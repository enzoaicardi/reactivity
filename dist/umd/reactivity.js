!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports):"function"==typeof define&&define.amd?define(["exports"],s):s((t="undefined"!=typeof globalThis?globalThis:t||self).t={})}(this,(function(t){"use strict";class s{static i=Symbol();static o=Symbol();static h=Symbol()}class i{value;dependencies=new Set;static[s.i]=null;static[s.o]=null;constructor(t,s){this.value=t,s&&this.add(...s)}call(...t){i[s.o]=i[s.i],i[s.i]=null;const e=this.value(...t);return i[s.i]=i[s.o],e}bind(...t){i[s.o]=i[s.i],i[s.i]=this;const e=this.value(...t);return i[s.i]=i[s.o],e}add(...t){for(const s of t)this.dependencies.add(s),s.dependencies.add(this)}delete(...t){for(const s of t)this.dependencies.delete(s),s.dependencies.delete(this)}clear(){for(const t of this.dependencies)t.dependencies.delete(this);this.dependencies.clear()}}t.u=i,t.p=class{value;dependencies=new Set;constructor(t,s){void 0!==t&&(this.value=t),s&&this.add(...s)}get(){const t=i[s.i];return t&&this.add(t),this.value}set(t){if(this.value!==t){this.value=t;for(const t of this.dependencies)t.call()}return this.value}compute(t){const s=t(this.value);this.set(s)}add(...t){for(const s of t)this.dependencies.add(s),s.dependencies.add(this)}delete(...t){for(const s of t)this.dependencies.delete(s),s.dependencies.delete(this)}clear(){for(const t of this.dependencies)t.dependencies.delete(this);this.dependencies.clear()}}}));
